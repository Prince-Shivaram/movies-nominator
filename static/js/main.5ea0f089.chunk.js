(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{27:function(e,t,n){e.exports=n(69)},32:function(e,t,n){},33:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(6),c=n.n(i),r=(n(32),n(33),n(8)),l=n(3),s=n(23),m=n.n(s);n(57);var u=Object(l.b)(null,(function(e){return{fetchMovies:function(t){return e(function(e){return function(t){t({type:"FETCH_MOVIES_REQUEST"}),m.a.get("https://www.omdbapi.com/?i=tt3896198&apikey=".concat("1c46dc6c","&s=").concat(e,"&page=1")).then((function(e){var n=e.data;t({type:"FETCH_MOVIES_SUCCESS",payload:n.Search})})).catch((function(e){t({type:"FETCH_MOVIES_FAILURE",payload:e})}))}}(t))}}}))((function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),i=n[0],c=n[1];return Object(a.useEffect)((function(){e.fetchMovies(i)}),[i]),o.a.createElement("div",{className:"search__container"},o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.fetchMovies(i)},className:"input__container"},o.a.createElement("input",{type:"text",value:i,onChange:function(e){c(e.target.value)},placeholder:"Search a movie by name"}),o.a.createElement("input",{type:"submit",value:"search",className:"input__button"})))}));n(58),n(59);var d=function(){return o.a.createElement("div",{className:"lds-dual-ring"})};var v=Object(l.b)((function(e){return{state:e.moviesList,countNominations:e.moviesList.countNominations,limit:e.moviesList.limit}}),(function(e){return{setNomination:function(t){return e(function(e){return{type:"SET_NOMINATE;",payload:{movietitle:e}}}(t))}}}))((function(e){var t=e.state.error.message,n=e.state.movies,a=e.state.loading,i=e.state.nominate,c=e.state.limit,r=e.state.countNominations,l=function(t){c-r>0?e.setNomination(t.currentTarget.dataset.div_id):alert("You can nominate movies upto ".concat(5," !!"))};return o.a.createElement("div",{className:"sidebar"},o.a.createElement("h2",null,"Results from Search :"),o.a.createElement("div",{className:"sidebar__body"},o.a.createElement("ul",{className:"sidebar__list"},a?o.a.createElement("h2",{className:"error"},o.a.createElement(d,null)):t?o.a.createElement("h3",{className:"error"},t):n&&n.map((function(e,t){return i&&i.some((function(t){return t.movietitle===e.Title}))?o.a.createElement("div",{className:"list__item",key:t},o.a.createElement("li",null,e.Title," "),o.a.createElement("button",{"data-div_id":e.Title,className:"item__btn",disabled:!0},"Nominateed!")):o.a.createElement("div",{className:"list__item",key:t},o.a.createElement("li",null,e.Title)," ",o.a.createElement("button",{"data-div_id":e.Title,className:"item__btn",onClick:l},"Nominate"))})))))})),E=(n(60),n(61),n(24)),f=n.n(E);var N=Object(l.b)((function(e){return{nominations:e.moviesList.nominate,countNominations:e.moviesList.countNominations}}),(function(e){return{removeNominate:function(t){return e(function(e){return console.log("fired"),{type:"REMOVE_NOMINATE;",payload:e}}(t))}}}))((function(e){var t,n,i,c=e.nominations,l=function(t){console.log(t.currentTarget.dataset.div_id),n=localStorage.getItem("Object"),n=JSON.parse(n),console.log(n),n=n.filter((function(e,n){return e.movietitle!==t.currentTarget.dataset.div_id})),localStorage.setItem("Object",JSON.stringify(n)),e.removeNominate(t.currentTarget.dataset.div_id)},s=Object(a.useState)(""),m=Object(r.a)(s,2),u=m[0],d=m[1];return Object(a.useEffect)((function(){if(c.length>0)localStorage.setItem("Object",JSON.stringify(c)),t=localStorage.getItem("Object"),t=JSON.parse(t),i=t.map((function(e,t){return e.movietitle})),d(i.join(","));else{t=localStorage.getItem("Object"),t=JSON.parse(t),i=[].length<1?[]:t.map((function(e,t){return e.movietitle})),d(i.join(","))}}),[c]),o.a.createElement("div",{className:"nominations"},o.a.createElement("h2",null,"Nominations: ",c.length),o.a.createElement("div",{className:"nominations__body"},o.a.createElement("ul",{className:"nominations__list"},c.length>0?c.map((function(e,t){return o.a.createElement("div",{className:"list__item",key:t},o.a.createElement("li",null,e.movietitle),o.a.createElement("button",{className:"nomination_item__btn","data-div_id":e.movietitle,onClick:l},"Remove")," ")})):o.a.createElement("h4",{className:"nominations__title"},"You have no nominations")),o.a.createElement("div",{className:"share__buttons"},u.length>1&&["facebook","twitter","google-plus","pinterest"].map((function(e,t){return o.a.createElement(f.a,{compact:!0,socialMedia:e,key:t,url:window.location.href,media:"https://imgs.xkcd.com/comics/error_code.png",text:"Hey I have made this cool nomination of movies - ".concat(u," using movie nominator"),className:"share__button"})})))))}));var _=function(e){return o.a.createElement("div",{className:"results"},o.a.createElement(v,null),o.a.createElement(N,null))};var p=function(e){return o.a.createElement("div",{className:"app"},o.a.createElement("h2",{className:"title"}," Nominate Your Movie"),o.a.createElement(u,null),o.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=n(4),g=n(25),O=n(26),h=n(2),S={loading:!1,movies:[],nominate:JSON.parse(localStorage.getItem("Object"))?JSON.parse(localStorage.getItem("Object")):[],error:[],countNominations:0,limit:5},j=Object(b.c)({moviesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MOVIES_REQUEST":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"FETCH_MOVIES_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:[],movies:t.payload});case"FETCH_MOVIES_FAILURE":return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:t.payload});case"SET_NOMINATE;":return Object(h.a)(Object(h.a)({},e),{},{countNominations:e.countNominations+1,nominate:[].concat(Object(O.a)(e.nominate),[t.payload])});case"REMOVE_NOMINATE;":return Object(h.a)(Object(h.a)({},e),{},{countNominations:e.countNominations-1,nominate:e.nominate.filter((function(e){return e.movietitle!==t.payload}))});default:return e}}}),y=[g.a],T=Object(b.e)(j,Object(b.d)(b.a.apply(void 0,y)));c.a.render(o.a.createElement(l.a,{store:T},o.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.5ea0f089.chunk.js.map